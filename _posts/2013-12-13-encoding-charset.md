---
layout: post
title: 前端工程师的编码问题
published: true
tags: [encoding charset unicode ucs UTF-8 UTF-16 编码 字符集]
---

## 基础知识

通常我们讲到的字符是一种文化符号，比如'中华'二字。顾名思义，字符集就是一套字符的集合。

众所周知，计算机只能处理/存储二进制数据。那么怎么用计算机来显示和处理人类文明使用的字符呢？
这就需要对字符进行编码，简单来说就是建立二进制数字和字符之间的关系。比如在
ASCII中65就代表大写字母'A'。

那么，在计算机的范畴内, 字符集编码通常包含了两部分的内容：1、一套字符集
2、这套字符集与二进制数字的对应关系，这套对应关系叫做码表。比如繁体字'華'就不会在GB2312的字符集中，
因为设计GB2312时就没有把繁体字收录进去。

前面说到了字符集和码表的概念，其实还有一个非常重要的概念—编码，即如何存储/传输字符。
为方便说明，后文主要以文本文件存储到硬盘和从硬盘中读取文件并显示为例。出于节省存储空间的考虑，
通常字符并不是按照码表中对应的二进制直接存储的，而是将这个二进制数字再经过一次运算得到另一个更短的二进制串，
最终存储的是这个更短的二进制串，这个运算叫做编码。这里说通常是因为对于单字节的表示的字符没有经过运算。

文本文件的大致存储过程是这样的：

1. 查找码表，得到文本对应的二进制串A
2. 将A按一定规则进行转换得到二进制串B
3. 将二进制B存储到存储设备

注意：步骤2可能没有。

读取文本文件就是相反的过程：

1. 按二进制串从存储设备中读取数据，得到二进制串B
2. 将B按一定规则进行转换得到二进制串A
3. 查找码表，找到二进制串A对应的字符，并显示字符

注意：步骤2可能没有。

## ASCII

最初，计算机只在美国使用，由于英文符号比较少，美国人就使用1个字节来对他们使用到的字符进行编码，
这就是ASCII码(American Standard Code for Information Interchange，美国信息交换标准代码)。

1个字节可以表示256种不同的状态(2^8=256)，也就是说ASCII最多包含256字符。实际上ASCII才使用到了第127号。
其中从0开始的32种状态被用来做一些特殊




